{% extends 'base.html' %}
{% block content %}

<style>
  .filter-ui {
    background:#151515;
    position:absolute;
    top:10px;
    right:10px;
    z-index:100;
    padding:10px;
    border-radius:3px;
    }

  .circle_box {
    background: #000;
     position:absolute; top:0; bottom:0; width:100%; min-height: 1000px;
    display: inline-flex;
  }

  .circle_box_svg {
       margin: auto auto; 
  }

  .svg {
/*    margin: 24px auto;*/
    display: block;
    -webkit-animation: svg-rotate 8000ms linear infinite;
            animation: svg-rotate 8000ms linear infinite;
    margin: auto auto;
  }

  circle {
    fill: transparent;
    stroke: hotpink;
    stroke-width: 4;
    stroke-linecap: round;
    stroke-dasharray: 0, 301.59289;
    -webkit-animation: stroke-dash 2000ms linear infinite, stroke-width 2000ms linear infinite, stroke-color 8000ms steps(4) infinite;
            animation: stroke-dash 2000ms linear infinite, stroke-width 2000ms linear infinite, stroke-color 8000ms steps(4) infinite;
  }

  @-webkit-keyframes svg-rotate {
    to {
      -webkit-transform: rotate(360deg);
              transform: rotate(360deg);
    }
  }

  @keyframes svg-rotate {
    to {
      -webkit-transform: rotate(360deg);
              transform: rotate(360deg);
    }
  }
  @-webkit-keyframes stroke-width {
    0%, 100% {
      stroke-width: 0;
    }
    45%, 55% {
      stroke-width: 2;
    }
    50% {
      stroke-width: 4;
    }
  }
  @keyframes stroke-width {
    0%, 100% {
      stroke-width: 0;
    }
    45%, 55% {
      stroke-width: 2;
    }
    50% {
      stroke-width: 4;
    }
  }
  @-webkit-keyframes stroke-dash {
    0% {
      stroke-dasharray: 0, 301.59289;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 301.59289, 0;
      stroke-dashoffset: 0;
    }
    100% {
      stroke-dasharray: 301.59289, 301.59289;
      stroke-dashoffset: -301.59289;
    }
  }
  @keyframes stroke-dash {
    0% {
      stroke-dasharray: 0, 301.59289;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 301.59289, 0;
      stroke-dashoffset: 0;
    }
    100% {
      stroke-dasharray: 301.59289, 301.59289;
      stroke-dashoffset: -301.59289;
    }
  }
  @-webkit-keyframes stroke-color {
    from {
      stroke: hotpink;
    }
  }
  @keyframes stroke-color {
    from {
      stroke: hotpink;
    }
  }
    
  .my-legend .legend-title {
    text-align: left;
    margin-bottom: 5px;
    font-weight: bold;
    font-size: 90%;
    }
  .my-legend .legend-scale ul {
    margin: 0;
    margin-bottom: 5px;
    padding: 0;
    float: left;
    list-style: none;
    }
  .my-legend .legend-scale ul li {
    font-size: 80%;
    list-style: none;
    margin-left: 0;
    line-height: 18px;
    margin-bottom: 2px;
    }
  .my-legend ul.legend-labels li span {
    display: block;
    float: left;
    height: 16px;
    width: 30px;
    margin-right: 5px;
    margin-left: 0;
    border: 1px solid #999;
    }
  .my-legend a {
    color: #777;
    }
</style>

<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-heat/v0.1.3/leaflet-heat.js'></script>

<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.42.0/L.Control.Locate.min.js'></script>

<link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.42.0/L.Control.Locate.mapbox.css' rel='stylesheet' />

<script src='../static/nprogress/nprogress.js'></script>
<link rel='stylesheet' href='../static/nprogress/nprogress.css'/>

<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>

<script src="http://codepen.io/jakealbaugh/pen/WvNjZB.js"></script>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-9">
            <div id="map"></div>
            <div class="circle_box">
                <div class="circle_box_svg">
                <svg class="svg" width=200 height=200>
                  <circle cx=100 cy=100 r=50 />
                </svg>
              </div>
            </div>
            <nav id='filters' class='filter-ui'></nav>
        </div>
        <div class="col-md-3">
            <div class='my-legend'>
                <div class='legend-title'>Crime Category Legend</div>
                <div class='legend-scale'>
                  <ul class='legend-labels'>
                    <li><span style='background:#FF0000;'></span>Personal Theft/Larceny</li>
                    <li><span style='background:#0000FF;'></span>Robbery</li>
                    <li><span style='background:#008000;'></span>Rape/Sexual Assault</li>
                    <li><span style='background:#FFA500;'></span>Aggravated Assault</li>
                    <li><span style='background:#6600CC;'></span>Simple Assault</li>
                    <li><span style='background:#669999;'></span>Other</li>
                  </ul>
                </div>
            </div>
            <div class="form-group">
                <label>Period Start
                  <input type="date" class="form-control" name="start" min="2003-01-01">
                </label>
            </div>
            <span class="input-group-addon">to</span>
            <div class="form-group">
                <label>Period End
                  <input type="date" class="form-control" name="end">
                </label>
            </div>
            <button id="marker_button" class="btn btn-default">Submit</button>
                <br>
        </div>    
    </div>

<script src='../static/js/map.js'></script>
<script src='../static/js/markers.js'></script>

{% endblock %}