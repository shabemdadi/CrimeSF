{% extends 'base.html' %}
{% block content %}

<style>
    .filter-ui {
      background:#151515;
      position:absolute;
      top:10px;
      right:10px;
      z-index:100;
      padding:10px;
      border-radius:3px;
      }

	#inputs,
	#errors,
	#directions {
	    position: relative;
	    width: 100%;
	    max-width: 300px;
	    min-width: 200px;
	}

	#inputs {
	    z-index: 10;
	    top: 10px;
	    left: 10px;
	}

	#directions {
	    z-index: 99;
	    background: rgba(0,0,0,.8);
	    top: 0;
	    right: 0;
	    bottom: 0;
	    overflow: auto;
	}

	#errors {
	    z-index: 8;
	    opacity: 0;
	    padding: 10px;
	    border-radius: 0 0 3px 3px;
	    background: rgba(0,0,0,.25);
	    top: 90px;
	    left: 10px;
	}

  .circle_box {
    background: #000;
     position:absolute; top:0; bottom:0; width:100%; min-height: 1000px;
    display: inline-flex;
  }

  .circle_box_svg {
       margin: auto auto; 
  }

  .svg {
/*    margin: 24px auto;*/
    display: block;
    -webkit-animation: svg-rotate 8000ms linear infinite;
            animation: svg-rotate 8000ms linear infinite;
    margin: auto auto;
  }

  circle {
    fill: transparent;
    stroke: hotpink;
    stroke-width: 4;
    stroke-linecap: round;
    stroke-dasharray: 0, 301.59289;
    -webkit-animation: stroke-dash 2000ms linear infinite, stroke-width 2000ms linear infinite, stroke-color 8000ms steps(4) infinite;
            animation: stroke-dash 2000ms linear infinite, stroke-width 2000ms linear infinite, stroke-color 8000ms steps(4) infinite;
  }

  @-webkit-keyframes svg-rotate {
    to {
      -webkit-transform: rotate(360deg);
              transform: rotate(360deg);
    }
  }

  @keyframes svg-rotate {
    to {
      -webkit-transform: rotate(360deg);
              transform: rotate(360deg);
    }
  }
  @-webkit-keyframes stroke-width {
    0%, 100% {
      stroke-width: 0;
    }
    45%, 55% {
      stroke-width: 2;
    }
    50% {
      stroke-width: 4;
    }
  }
  @keyframes stroke-width {
    0%, 100% {
      stroke-width: 0;
    }
    45%, 55% {
      stroke-width: 2;
    }
    50% {
      stroke-width: 4;
    }
  }
  @-webkit-keyframes stroke-dash {
    0% {
      stroke-dasharray: 0, 301.59289;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 301.59289, 0;
      stroke-dashoffset: 0;
    }
    100% {
      stroke-dasharray: 301.59289, 301.59289;
      stroke-dashoffset: -301.59289;
    }
  }
  @keyframes stroke-dash {
    0% {
      stroke-dasharray: 0, 301.59289;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 301.59289, 0;
      stroke-dashoffset: 0;
    }
    100% {
      stroke-dasharray: 301.59289, 301.59289;
      stroke-dashoffset: -301.59289;
    }
  }
  @-webkit-keyframes stroke-color {
    from {
      stroke: hotpink;
    }
  }
  @keyframes stroke-color {
    from {
      stroke: hotpink;
    }
  }
</style>

<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-heat/v0.1.3/leaflet-heat.js'></script>

<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.42.0/L.Control.Locate.min.js'></script>

<link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.42.0/L.Control.Locate.mapbox.css' rel='stylesheet' />

<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/mapbox-directions.js/v0.3.0/mapbox.directions.js'></script>
<link rel='stylesheet' href='https://api.tiles.mapbox.com/mapbox.js/plugins/mapbox-directions.js/v0.3.0/mapbox.directions.css' type='text/css' />

<script src="../static/js/vendor/turf.min.js" charset="utf-8"></script>

<script src='../static/nprogress/nprogress.js'></script>
<link rel='stylesheet' href='../static/nprogress/nprogress.css'/>

<script src="http://codepen.io/jakealbaugh/pen/WvNjZB.js"></script>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-9">
            <div id='map'></div>
            <div class="circle_box">
              	<div class="circle_box_svg">
	              <svg class="svg" width=200 height=200>
	                <circle cx=100 cy=100 r=50 />
	              </svg>
            	</div>
            </div>
            <nav id='filters' class='filter-ui'></nav>
			<div id='errors'></div>
        </div>
        <div class="col-md-3">
        	<div id='inputs'></div>
        	<br>
        	<div>
	        	<label>Select crime buffer zone: 
	        		<select class="form-control" id="buffer_choice">
	        			<option name="buffer" value="0.1">0.1 miles</option>
	        			<option name="buffer" value="0.3">0.3 miles</option>
	        			<option name="buffer" value="0.5">0.5 miles</option>
	        			<option name="buffer" value="1">1.0 miles</option>
	        			<option name="buffer" value="5">5.0 miles</option>
	        			<option name="buffer" value="10">10.0 miles</option>
	        		</select>
	        	</label>
	        	<br>
        	</div>
        	<br>
        	<div id='directions'>
			  <div id='routes'></div>
			  <div id='instructions'></div>
			</div>
		</div>	

<script src='../static/js/map.js'></script>
<script src='../static/js/journey.js'></script>

{% endblock %}